<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <link href="tm_style.css" rel="stylesheet" type="text/css">
    <title>Traço Mágico em JS - v3.8M</title>
    <meta charset="utf-8">
  </head>
  <body>
<div align="left">
    <font face="Tahoma" size="1" color="Yellow">
    <TABLE BORDER=3 cellspacing=0 bordercolor="#444444"> 
      <TR> 
        <TD> 
        <TABLE width="100%" height="100%" cellspacing=0 BORDER=0 bordercolor="orange"> 
            <TR> 
              <TD style="text-align:left;" width="35%">
                <img src="logo_traco_magico_js.jpg" title="Use setas para desenhar, clique do mouse muda de posição">   
              </TD> 
              <TD  width="55%">
                 <h3><a href="javascript:sobrePM();" >by Paulo Mello &#169; 2018 </a>
                  <a href="#" onclick="testa();">*</a>
                
                </h3>
              </TD>
              <TD  width="15%">
                <H4>
                  <a href="./tm_ajuda.html" target="_blank" style="color:black"><img src="tm_sobre.gif" title="Clique para ajuda"></a>
                </H4>
              </TD> 
            </TR>
        </TABLE> 
        </TD> 
        <TD width="80px" rowspan="3">
            <TABLE  BORDER=1 cellspacing=0 bordercolor="#444444" width="100px"> 
              <TR>
                <TD bgcolor="white" width="90px"> 
                      <H3 class="ControlsTitle" title="Controles que afetam as ferramentas.">CONTROLES</H4>
                </TD>
              </TR>
             <TR>
                 <TD> 
                     <H4 class="ControlsTitle" title="Tamanho da fonte para Texto ou Emojis.">FONTE</H4>
                 </TD>
               </TR>
               <TR>
                 <TD>
                     <p class="contador2" id="numtexto" title="Tamanho da fonte: 10 a 120.">[40]</p>
                     <p><input type="range" id="SlTextSize" title="Tamanho da fonte." min="10" max="120" value="40" oninput="DefTextSize(this.value)" onchange="this.blur();"></p>
                 </TD> 
               </TR>
               <TR>
                <TD> 
                  <H4 class="ControlsTitle" title="Lados/Pontas de polígonos.">LADOS</H4>
                </TD>
               </TR>
               <TR>
                 <TD>
                   <p class="contador" id="numSides"  title="Lados do polígono/Pontas da estrela: 3 a 30">[0]</p>
                   <p><input type="range" id="SlSides" title="Lados de um polígono/Pontas da estrela." min="3" max="30" value="5" oninput="DefSides(this.value)" onchange="this.blur();">                     </p>   
                  </TD> 
                </TR>
                <TR>
                    <TD bgcolor="black" width="90px"> 
                        <H4 class="ControlsTitle" title="Largura do traço.">LARG.</H4>
                      </TD>
                  </TR>
                  <TR>
                    <TD>
                        <p class="contador" id="numlargura"  title="Largura do Taço: 2 a 20.">[0]</p> 
                        <p><input type="range" id="SlLargura" title="Largura do Traço." min="2" max="20" value="2" oninput="DefThickness(this.value)" onchange="this.blur();"></p>   
                    </TD> 
                  </TR>
                <TD colspan="2"> 
                   <H4 class="ControlsTitle" title="Tamanho dos raio X e Y para traçar elipses e polígonos.">&nbsp;RAIO (X,Y)
                  <input type="checkbox" name="stCircle" id="stCircle" title="Marque para círculo" onchange="DefCircle(this.checked);">
                </H4>
                 </TD>
              </TR>
              <TR>
              <TD> 
                <p class="contador2" id="numradius" title="Valor do raio do eixo X para traçar elipses e polígonos: 5 a 250.">[0]</p> 
                <p><input  type="range" width="50px" id="SlRadius"  title="Tamanho do raio." min="5" max="250" value="100" oninput="DefRadius(this.value)" onchange="this.blur();"></p>  
                <p class="contador2" id="numradiusY" title="Valor do raio do eixo Y para traçar elipses e polígonos: 5 a 250.">[0]</p> 
                <p><input  type="range" id="SlRadiusY"  title="Tamanho do raio do eixo Y." min="5" max="250" value="100" oninput="DefRadiusY(this.value)" onchange="this.blur();"></p>
              </TD>  
              </TR>
              <TR>
              <TD>
                  <H4 class="ControlsTitle" title="Grau de Rotação de Objetos.">ROTAÇÃO</H4>
              </TD>
              </TR>
              <TR>
              <TD>
                  <p class="contador2" id="numrotate"  title="Rotação: 0º a 360º.">[1]</p>
                  <p><input type="range" id="SlRotate" title="Rotação." min="1" max="2" value="1" oninput="DefRotate(this.value)" onchange="this.blur();"step="0.002"></p>
              </TD>    
            </TR>
            <TR>
                <TD>
                  <H4 class="ControlsTitle" title="Transparência de objetos sólidos.">TRANSP.</H4>
                </TD>
            </TR>
            <TR>
                <TD>
                  <p class="contador2" id="sttransp"  title="Transparência: 0 a 99%.">[0]</p>
                  <p><input type="range" id="SlTransparency" title="Transparência." min="0" max="99" value="0" oninput="DefTransparency(this.value)" onchange="this.blur();"></p>
                </TD>    
            </TR>
            <TR>
                <TD>
                  <H4 class="ControlsTitle" title="Velocidade do traço (desenhando com as setas).">VELOC.</H4>
                </TD>
            </TR>
            <TR>
                <TD>
                  <p class="contador2" id="numvelocidade" title="Velocidade: 1 a 40.">[20]</p>
                  <p><input type="range" id="SlVelocidade" title="Velocidade." min="1" max="40" value="20" oninput="DefSpeed(this.value)" onchange="this.blur();"></p>  
                </TD>    
            </TR>

            <TR>
              <TD>
                <H4 class="ControlsTitle" title="Cores de Desenho e Gradiente.">CORES</H4>
             </TD>
            </TR>
            <TR>
              <TD>
                <div class="input-color-container"> 
                   <input id="input-color1" type="color" class="input-color" value = "#0000FF" title="Clique para escolher a cor 1." oninput="DefColor1(this.value);"> 
                </div> 
              </TD>
              </TR>
              <TR>
               <TD>
                <div class="input-color-container"> 
                    <input id="input-color2" type="color" class="input-color" value = "#FFFFFF" title="Clique para escolher a cor 2." oninput="DefColor2(this.value);"> 
                 </div> 
              </TD>    
            </TR>
          </TABLE>
      </TD>
      </TR>
      <TR> 
        <TD>
          <div id = "caixa" class="container">
           <canvas id="tmcanvasFu" class="layer0"  width="950" height="500"></canvas>
           <canvas id="tmcanvas"   class="layer1"  width="950" height="500"></canvas>
           <canvas id="tmcanvasPr" class="layer2"  width="950" height="500"></canvas>
           <canvas id="tmcanvasFr" class="layer3"  width="950" height="500"></canvas> <!-- Frente  (Cursor) -->
          </div>
        </TD> 
      </TR>
      <TR >
      <TD>
       <TABLE BORDER=1 cellspacing=0 cellpadding=0 bordercolor="#444444" width="100%" height="100%">
          <TR>  
              <font face="Tahoma" size="1" font-color="#333333;">
              <TD>
                <H4 class="ToolsTitle" title="Formas básicas.">FORMAS</H4> 
              </TD>
              <TD>
                <H4 class="ToolsTitle" title="Inserir um texto no desenho.">TEXTO</H4>
              </TD>
              <TD> 
                 <H4 class="ToolsTitle" title="Inserir fotos do computador.">IMAGEM</H4>
              </TD>
              <TD>
                <H4 class="BackgroundToolsTitle" title="Define uma cor ou imagem para o fundo.">FUNDO</H4>
              </TD>
              <TD>
                <H4 class="CommandTitle" title="Modo Imediato/Modo Previsão."><rec id="StModo">PREVISÃO</rec><rec id="StPreview">◆</rec></H4>
              </TD>
              <TD>
                <H4 class="CommandTitle" title="Controle da gravação dos passos do desenho.">GRAVAÇÃO <rec id="REC">✹<rec></p></H4>
                </TD>
              <TD>
                <H4 class="CommandTitle" title="Apaga o desenho.">DOWNLOAD</H4>
              </TD>
              <TD>
                  <H4 class="CommandTitle" title="Apaga o desenho.">AÇÕES</H4>
                </TD>
               </font>
            </TR>
            <TR>
            <TD width="90px"> 
              <p>
                <a href="#" class="btaction" onclick="CallShape('Retangulo','');" title="Traça um retângulo entre os dois cursores. (R)">▯</a>
                <a href="#" class="btaction" onclick="CallShape('Circulo','');" title="Desenha um círculo.">◯</a>
                <a href="#" class="btaction" onclick="CallShape('Poligono','');" title="Desenha um polígono.">◇</a>
                <a href="#" class="btaction" onclick="CallShape('Estrela','');" title="Desenha uma estrela.">✩</a>
                <input type="checkbox" name="stSolid" id="stSolid" title="Marque para formas sólidas" onchange="DefSolid(this.checked);">

                <hr width="80%" color="#333333">
              </p>  
              <p> 
                <a href="#" class="btaction" onclick="CallShape('Linha','reta');" title="Cria uma [R]eta ligando os dois últimos pontos marcados. [R]"   >▬&nbsp;&nbsp;</a>
                &nbsp;
                <a href="#" class="btaction" onclick="CallShape('Linha','traço');" title="Traça o caminho até o Ponto Atual [T].">➜&nbsp;&nbsp;</a>
                &nbsp;/&nbsp;
                <a href="#" class="btaction" onclick="CallShape('ConcentricCircles','');" title="Desenha Círculos concêntricos.">◉</a> 
                &nbsp;
                <a href="#" class="btaction" onclick="CallShape('Forma3D','');" title="Desenha Formas 3D.">✦</a> 
                <input type="checkbox" name="stMulticolor" id="stMulticolor" title="Marque para formas Multicoloridas" onchange="DefMulticolor(this.checked);">
              </p>  
          </TD>    
          <TD width="50px">
              <p>
                <a href="#" class="btaction" onclick="ReadText();" title="Digite o texto.">⌨</a>
                &nbsp;
                <a href="#" class="btaction" onclick="CallShape('Texto','');" title="Cole o texto no ponto atual.">✎</a>
              </p>
              <p><a href="#" class="btaction" onclick="ShowEmojiTab(true);" title="Abrir Tabela de Emojis."   >❤</a></p>
          </TD>
          <TD width="40px" align="center">
              <p align="center">
                 <a href="#" class="btmedio" id="colaimg" onclick="CallShape('Imagem','frente');"  title="Insere uma imagem no ponto atual.">▣</a>
              </p>
              <p>
              <div id="files" title="Seleciona uma imagem do computador." >
                 <input type="file">
                 <span align="center" class="btmedio">⏏</span>
              </div>
              </p>
          </TD>
          
          <TD width="60px">
            <p>
              <a href="#" class="btmedio" onclick="ChangeBgColor();" title="Troca o fundo para a Cor 2 selecionada.">Cor</a>
            </p>
            <p>
              <a href="#" class="btaction" onclick="MakeBgTilt('circulos');" title="Círculos randômicos (use transparência).">⠪</a>
              &nbsp;
                <a href="#" class="btaction" onclick="MakeBgTilt('retangulos');" title="Retângulos randômicos (use transparência).">⧉</a>
              </p>
              <p>
                <a href="#" class="btmedio" onclick="DrawReadImage('fundo');"  title="Imagem preenchendo o fundo (use transparência).">Foto</a>
              </p>
            </TD>
 
            <TD width="60px">
                <p>
                  <a href="#" class="btmedio" onclick="TooglePreview();" title="Alterna o modo de Utilização. [Shift]">MODO</a>
                </p>
                &nbsp;
                <p>
                  <a href="#" class="btmedio" onclick="ForceDrawShape();" title="Envia a forma para o desenho.">✔</a>
                </p>
            </TD>
            <TD  width="70px">
              <p class="conta-passos" id="stgrava" title="Passos gravados.">Passo[0]</p>
              <p>
                <a href="#" class="btaction" id="btgrava" onclick="RecordProject();" title=" ●  Ligar   /   ❚❚  Pausar." >❚❚</a>
                &nbsp;&nbsp;
                <a href="#" class="btaction" onclick="RestoreProject();"   title="Toca a gravação."      >►</a>
              </p>
              <p> 
                <a href="#" class="btaction" onclick="CutProjetStep();"   title="Apaga o útimo passo" >⌫</a>
                &nbsp;&nbsp;
                <a href="#" class="btaction" onclick="CancelProjectRecorded();" title="Apaga a gravação."    >✘</a>
              </p>
            </TD>
            
            <TD width="70px" align:"center">
            <p> 
              <a href="#" class="btgrande" id="arquivo" download="TM-Imagem.png" title="Salva desenho no computador" onclick="SalvaDesenho()">SALVAR</a>
            </p>
          </TD>
          <TD width="70px" align:"center">
              <div> 
                <a href="#" class="btgrande" onclick="apagar();"  title="Apaga a tela atual.">APAGAR</a>
              </div>
              <p> 
                <a href="#" class="btgrande" onclick="reset();" title="Apaga tudo (tela e gravação).">RESET</a>
              </p>
            </TD>
  
        </TR> 
      </TABLE> 
    </td>
    </TR>
    </TABLE> 
    </div>

    <!-- 
    ==
    == DIV DE MENSAGEM
    ==
     -->
    <div id="mostraMSG"; class="MsgDiv">
        <TABLE BORDER=0 cellspacing=0 cellpadding=0 bordercolor="red" width="900px" height="45px" bgcolor="#000000">
        <TR>
         <TD width="70px" >
           <p>
          </p>  
        </TD>
         <TD>
           <tm id="textoMSG"; class="MsgLine">.</tm>
        </TD>        
        <TD width="70px">
           <p align:center>
            <a href="#" class="btgrande" onclick="ocultaMSG();" >OK</a>
          </p>  
        </TD>
        </TR>
        </TABLE>
   </div>


    <!-- 
    ==
    == DIV DE CONFIRMAÇÃO - NÃO ESTÁ EM USO
    ==
     -->
    <div align:center; id="mostraCONF" class="MsgDiv">
      <TABLE BORDER=0 cellspacing=0 cellpadding=0 bordercolor="red" width="900px" height="45px" bgcolor="#FFFF00">
      <TR>
          <TD width="60px">
              <p>
               <a href="#" class="btgrande" id="btCancela">Cancela</a>
             </p>  
           </TD>
      <TD>
         <H4 id="textoCONF">.</H4>
      </TD>        
      <TD width="60px">
         <p>
          <a href="#" class="btgrande" id="btConfirma">Confirma</a>
        </p>  
      </TD>
      </TR>
      </TABLE>
   </div>





    <!-- 
    ==
    == DIV DA TABELA DE EMOJIS
    ==
     -->
    <div id="ContemEmoTab" class="EmoTab">
        <TABLE BORDER=1 cellspacing=0 cellpadding=0 bordercolor="#ff8c00" width="100%" height="100%" bgcolor="black">
        <TR>
         <TD width="116px" >
            <p class="EmoBox2">TABELA</p>
            <p class="EmoBox2">  DE  </p>
            <p class="EmoBox2">EMOJIS</p>
        </TD>
         <TD>
          <div id="EmoTab" class="content"></div>
        </TD>
        <TD width="115px">
            <p class="EmoBox2">
                <a href="#" class="btaction" title="Move para cima." onclick="MoveEmoTab('UP');">▲</a>
            </p>
            <div class="EmoBox">
                <a href="#" class="btgrande" onclick="ShowEmojiTab(false);">FECHA</a>
            </div>
            <p class="EmoBox2">
                <a href="#" class="btaction" title="Move para baixo." onclick="MoveEmoTab('DOWN');">▼</a>
            </p>
        </TD>
        </TR>
        </TABLE>
      </div>

  <script type="text/javascript" src="tm_testa_script.js"></script>  
  <script type="text/javascript" src="tm_desenha_script.js"></script> 
  <script type="text/javascript" src="tm_grava_script.js"></script>   
  <script type="text/javascript" src="tm_preview_script.js"></script> 
  <script type="text/javascript" src="tm_principal_script.js"></script>   
</font>
 </body>
</html>