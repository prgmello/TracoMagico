<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <link href="tm_style.css" rel="stylesheet" type="text/css">
    <title>Traço Mágico em JS - v3.8M</title>
    <meta charset="utf-8">
  </head>
  <body>
<div align="left">
    <font face="Tahoma" size="1" color="Yellow">
    <TABLE BORDER=3 cellspacing=0 bordercolor="#444444"> 
      <TR> 
        <TD> 
        <TABLE width="100%" height="100%" cellspacing=0 BORDER=0 bordercolor="orange"> 
            <TR> 
              <TD style="text-align:left;" width="35%">
                <img src="logo_traco_magico_js.jpg" title="Use setas para desenhar, clique do mouse muda de posição">   
              </TD> 
              <TD  width="55%">
                 <h3><a href="javascript:sobrePM();" >by Paulo Mello &#169; 2018 </a>
                  <a href="#" onclick="testa();">*</a>
                
                </h3>
              </TD>
              <TD  width="15%">
                <H5>
                  <a href="./tm_ajuda.html" target="_blank" style="color:black"><img src="tm_sobre.gif" title="Clique para ajuda"></a>
                </H5>
              </TD> 
            </TR>
        </TABLE> 
        </TD> 
        <TD width="120px" rowspan="3">
            <TABLE  BORDER=1 cellspacing=0 bordercolor="#444444" width="120px"> 

             <TR>
                <TD bgcolor="black" width="90px"> 
                     <H5 class="ControlsTitle" title="Tamanho da fonte para Texto ou Emojis.">FONTE</H5>
                 </TD>
               </TR>
               <TR>
                 <TD>
                     <p class="contador2" id="numtexto" title="Tamanho da fonte: 10 a 120.">[40]</p>
                     <p><input type="range" id="SlTextSize" title="Tamanho da fonte." min="10" max="120" value="40" oninput="DefTextSize(this.value)" onchange="this.blur();"></p>
                 </TD> 
               </TR>
               <TR>
                <TD id="GradientBox">
                  <H5 class="ControlsTitle" title="Preenchimento Gradiente.">PREENCHIMENTO</H5>
                    <input type="checkbox" name="tpPreenchimento" id="stVazio"     value="Vazio" title="Sem prreenchimento" onchange="DefFillKind(this.checked,this.value);">
                    <TM class="contador2" >V</TM>
                    <input type="checkbox" name="tpPreenchimento" id="stCorSolida" value="Solido" title="Cor sólida"       onchange="DefFillKind(this.checked,this.value);">
                    <TM class="contador2" >S</TM>
                    <br>
                    <input type="checkbox" name="tpPreenchimento" id="stGradientL" value="Linear" title="Gradiente Linear" onchange="DefFillKind(this.checked,this.value);">
                    <TM class="contador2" >L</TM>
                    <input type="checkbox" name="tpPreenchimento" id="stGradientR" value="Radial" title="Gradiente Radial" onchange="DefFillKind(this.checked,this.value);">
                    <TM class="contador2" >R</TM>
                </TD>
            </TR>


           <TR>
            <TD> 
              <H5 class="ControlsTitle" title="Lados/Pontas de polígonos.">LADOS</H5>
            </TD>
           </TR>
           <TR>
             <TD>
               <p class="contador" id="numSides"  title="Lados do polígono/Pontas da estrela: 3 a 30">[0]</p>
               <p><input type="range" id="SlSides" title="Lados de um polígono/Pontas da estrela." min="3" max="30" value="5" oninput="DefSides(this.value)" onchange="this.blur();">                     </p>   
              </TD> 
            </TR>
            <TD colspan="2"> 
               <H5 class="ControlsTitle" title="Largura e Altura das Formas.">&nbsp;TAMANHO
              <input type="checkbox" name="StSimetric" id="StSimetric" title="Marque para simétrico" onchange="DefSimetric(this.checked);">
            </H5>
             </TD>
          </TR>
          <TR>
          <TD> 
            <p class="contador2" id="numsizeX" title="Largura de objetos: 1 a 475.">[0]</p> 
            <p><input  type="range" width="50px" id="SlSizeX"  title="Largura de objetos." min="0" max="100" value="50" oninput="DefSizeX(this.value)" onchange="this.blur();"></p>  
            <p class="contador2" id="numsizeY" title="Altura de objetos: 1 a 250.">[0]</p> 
            <p><input  type="range" id="SlSizeY"  title="Altura de objetos." min="0" max="100" value="50" oninput="DefSizeY(this.value)" onchange="this.blur();"></p>
          </TD>  
          </TR>
          <TR>
          <TD>
              <H5 class="ControlsTitle" title="Grau de Rotação de Objetos.">ROTAÇÃO</H5>
          </TD>
          </TR>
          <TR>
          <TD>
              <p class="contador2" id="numrotate"  title="Rotação: 0º a 360º.">[1]</p>
              <p><input type="range" id="SlRotate" title="Rotação." min="1" max="2" value="1" oninput="DefRotate(this.value)" onchange="this.blur();"step="0.002"></p>
          </TD>    
        </TR>
        <TR>
            <TD>
              <H5 class="ControlsTitle" title="Transparência de objetos sólidos.">TRANSPARÊNCIA</H5>
            </TD>
        </TR>
        <TR>
            <TD>
              <p class="contador2" id="sttransp"  title="Transparência: 0 a 99%.">[0]</p>
              <p><input type="range" id="SlTransparency" title="Transparência." min="0" max="99" value="0" oninput="DefTransparency(this.value)" onchange="this.blur();"></p>
            </TD>    
        </TR>
      </TABLE>
      </TD>
      </TR>
      <TR> 
        <TD>
          <div id = "caixa" class="container">
           <canvas id="tmcanvasFu" class="layer0"  width="950" height="500"></canvas>
           <canvas id="tmcanvas"   class="layer1"  width="950" height="500"></canvas>
           <canvas id="tmcanvasPr" class="layer2"  width="950" height="500"></canvas>
           <canvas id="tmcanvasFr" class="layer3"  width="950" height="500"></canvas> <!-- Frente  (Cursor) -->
          </div>
        </TD> 
      </TR>
      <TR >
      <TD>
       <TABLE BORDER=1 cellspacing=0 cellpadding=0 bordercolor="#444444" width="100%" height="100%">
          <TR>  
              <font face="Tahoma" size="1" font-color="#333333;">
              <TD>
                 <H5 class="ControlsTitle" title="Cores de Desenho e Gradiente.">CORES</H5> 
              </TD>
              <TD>
                <H5 class="ControlsTitle" title="Velocidade do traço (desenhando com as setas).">VELOC.</H5>
              </TD>
              <TD>
                <H5 class="ControlsTitle" title="Espessura do traço.">TRAÇO</H5>
              </TD>
              <TD>
                <H5 class="ToolsTitle" title="Formas básicas.">FORMAS</H5> 
              </TD>
              <TD>
                <H5 class="ToolsTitle" title="Inserir um texto no desenho.">TEXTO</H5>
              </TD>
              <TD> 
                 <H5 class="ToolsTitle" title="Inserir fotos do computador.">IMAGEM</H5>
              </TD>
              <TD>
                <H5 class="BackgroundToolsTitle" title="Define uma cor ou imagem para o fundo.">FUNDO</H5>
              </TD>
              <TD>
                <H5 class="CommandTitle" title="Liga/Desliga o Modo Previsão.">PREVISÃO<rec id="StPreview">◆</rec></H5>
              </TD>
              <TD>
                <H5 class="CommandTitle" title="Controle da gravação dos passos do desenho.">GRAVAÇÃO <rec id="REC">✹<rec></p></H5>
                </TD>
              <TD>
                <H5 class="CommandTitle" title="Faz o download do desenho para o seu computador.">DOWNLOAD</H5>
              </TD>
              <TD>
                  <H5 class="CommandTitle" title="Apagar desenho/Reiniciar programa.">AÇÕES</H5>
                </TD>
               </font>
            </TR>
            <TR>
            <TD width="50px">
                <div class="input-color-container"> 
                    <input id="input-color1" type="color" class="input-color" value = "#0000FF" title="Clique para escolher a cor 1." oninput="DefColor1(this.value);"> 
                 </div> 
                 <div class="input-color-container"> 
                    <input id="input-color2" type="color" class="input-color" value = "#FFFFFF" title="Clique para escolher a cor 2." oninput="DefColor2(this.value);"> 
                 </div> 
            </TD>
            <TD width="50px">
              <p class="contador2" id="numvelocidade" title="Velocidade: 1 a 20.">[10]</p>
              <p><input type="range" id="SlVelocidade" class="vertical" title="Velocidade." min="1" max="20" value="10" oninput="DefSpeed(this.value)" onchange="this.blur();"></p>  
          </TD>
          <TD width="50px">
              <p class="contador" id="numlargura"  title="Espessura do Taço: 2 a 20.">[0]</p> 
              <p><input type="range" id="SlLargura"   class="vertical" title="Espessura do Traço." min="2" max="20" value="2" oninput="DefThickness(this.value)" onchange="this.blur();"></p>   
          </TD>

            <TD width="80px"> 
              <p>
                <a href="#" class="btaction" onclick="CallShape('Retangulo','');" title="Traça um retângulo.">▯</a>
                <a href="#" class="btaction" onclick="CallShape('Circulo','');" title="Desenha um círculo.">◯</a>
                <a href="#" class="btaction" onclick="CallShape('Poligono','');" title="Desenha um polígono.">◇</a>
                <a href="#" class="btaction" onclick="CallShape('Estrela','');" title="Desenha uma estrela.">✩</a>
                <hr width="80%" color="#333333">
              </p>  
              <p> 
                <a href="#" class="btaction" onclick="CallShape('Linha','reta');" title="Cria uma [R]eta ligando os dois últimos pontos marcados. [R]"   >▬&nbsp;&nbsp;</a>
                &nbsp;
                <a href="#" class="btaction" onclick="CallShape('Linha','traço');" title="Traça o caminho até o Ponto Atual [T].">➜&nbsp;&nbsp;</a>
                &nbsp;/&nbsp;
                <a href="#" class="btaction" onclick="CallShape('ConcentricCircles','');" title="Desenha Círculos concêntricos.">◉</a> 
                &nbsp;
                <a href="#" class="btaction" onclick="CallShape('Forma-Complexa','');" title="Desenha Formas complexas.">✦</a> 
                <input type="checkbox" name="stMulticolor" id="stMulticolor" title="Marque para formas Multicoloridas" onchange="DefMulticolor(this.checked);">
              </p>  
          </TD>    
          <TD width="50px">
              <p>
                <a href="#" class="btaction" onclick="ReadText();" title="Digite o texto.">⌨</a>
                &nbsp;
                <a href="#" class="btaction" onclick="CallShape('Texto','');" title="Cole o texto no ponto atual.">✎</a>
              </p>
              <p><a href="#" class="btaction" onclick="ShowEmojiTab(true);" title="Abrir Tabela de Emojis."   >❤</a></p>
          </TD>
          <TD width="40px" align="center">
              <p align="center">
                 <a href="#" class="btmedio" id="colaimg" onclick="CallShape('Imagem','frente');"  title="Insere uma imagem no ponto atual.">▣</a>
              </p>
              <p>
              <div id="files" title="Seleciona uma imagem do computador." >
                 <input type="file">
                 <span align="center" class="btmedio">⏏</span>
              </div>
              </p>
          </TD>
          
          <TD width="60px">
            <p>
              <a href="#" class="btmedio" onclick="ChangeBgColor();" title="Troca o fundo para a Cor 2 selecionada.">Cor</a>
            </p>
            <p>
              <a href="#" class="btaction" onclick="MakeBgTilt('circulos');" title="Círculos randômicos (use transparência).">⠪</a>
              &nbsp;
                <a href="#" class="btaction" onclick="MakeBgTilt('retangulos');" title="Retângulos randômicos (use transparência).">⧉</a>
              </p>
              <p>
                <a href="#" class="btmedio" onclick="DrawReadImage('fundo');"  title="Imagem preenchendo o fundo (use transparência).">Foto</a>
              </p>
            </TD>
 
            <TD width="60px">
                <p>
                  <a href="#" class="btgrande"  onclick="TooglePreview();" title="Liga o modo de Previsão. [Shift]"><rec id="StModo">LIGA</rec></a>
                </p>
                &nbsp;
                <p>
                  <a href="#" class="btmedio" onclick="ForceDrawShape();" title="Envia a forma para o desenho.">✔</a>
                </p>
            </TD>
            <TD  width="70px">
              <p class="conta-passos" id="stgrava" title="Passos gravados.">Passo[0]</p>
              <p>
                <a href="#" class="btaction" id="btgrava" onclick="RecordProject();" title=" ●  Ligar   /   ❚❚  Pausar." >❚❚</a>
                &nbsp;&nbsp;
                <a href="#" class="btaction" onclick="RestoreProject();"   title="Toca a gravação."      >►</a>
              </p>
              <p> 
                <a href="#" class="btaction" onclick="CutProjetStep();"   title="Apaga o útimo passo" >⌫</a>
                &nbsp;&nbsp;
                <a href="#" class="btaction" onclick="CancelProjectRecorded();" title="Apaga a gravação."    >✘</a>
              </p>
            </TD>
            
            <TD width="70px" align:"center">
            <p> 
              <a href="#" class="btgrande" id="arquivo" download="TM-Imagem.png" title="Salva desenho no computador." onclick="SalvaDesenho()">SALVAR</a>
            </p>
          </TD>
          <TD width="70px" align:"center">
              <div> 
                <a href="#" class="btgrande" onclick="apagar();"  title="Apaga a tela atual.">APAGAR</a>
              </div>
              <p> 
                <a href="#" class="btgrande" onclick="reset();" title="Apaga tudo (tela e gravação).">RESET</a>
              </p>
            </TD>
  
        </TR> 
      </TABLE> 
    </td>
    </TR>
    </TABLE> 
    </div>

    <!-- 
    ==
    == DIV DE MENSAGEM
    ==
     -->
    <div id="mostraMSG"; class="MsgDiv">
        <TABLE BORDER=0 cellspacing=0 cellpadding=0 bordercolor="red" width="900px" height="45px" bgcolor="#000000">
        <TR>
         <TD width="70px" >
           <p>
          </p>  
        </TD>
         <TD>
           <tm id="textoMSG"; class="MsgLine">.</tm>
        </TD>        
        <TD width="70px">
           <p align:center>
            <a href="#" class="btgrande" onclick="ocultaMSG();" >OK</a>
          </p>  
        </TD>
        </TR>
        </TABLE>
   </div>


    <!-- 
    ==
    == DIV DE CONFIRMAÇÃO - NÃO ESTÁ EM USO
    ==
     -->
    <div align:center; id="mostraCONF" class="MsgDiv">
      <TABLE BORDER=0 cellspacing=0 cellpadding=0 bordercolor="red" width="900px" height="45px" bgcolor="#FFFF00">
      <TR>
          <TD width="60px">
              <p>
               <a href="#" class="btgrande" id="btCancela">Cancela</a>
             </p>  
           </TD>
      <TD>
         <H5 id="textoCONF">.</H5>
      </TD>        
      <TD width="60px">
         <p>
          <a href="#" class="btgrande" id="btConfirma">Confirma</a>
        </p>  
      </TD>
      </TR>
      </TABLE>
   </div>





    <!-- 
    ==
    == DIV DOS CONTROLES DE GRADIENTE
    ==
     -->
     <div id="GradControls" class="GradControls">
      <TABLE BORDER=0 cellspacing=0 cellpadding=0 bordercolor="#ff8c00" width="900px" height="100%" bgcolor="#2F4F4F">
      <TR>
       <TD width="115px" >
          <H3 class="EmoBox2">CONTROLES</H3>
          <H3 class="EmoBox2">  DE  </H3>
          <H3 class="EmoBox2">GRADIENTE</H3>
      </TD>
       <TD width="150px">
          <p class="EmoBox2">GRADIENTE</p>
          <p class="contador2"   id="numgradientx"       title="Gradiente">[0]</p>
          <p><input type="range" id="SlGradientX"        title="Gradiente X." min="-50" max="50" value="0" oninput="DefGradientX(this.value)" onchange="this.blur();"></p>
          <p class="contador2"   id="numgradienty"       title="Gradiente">[0]</p>
          <p><input type="range" id="SlGradientY"        title="Gradiente Y." min="-50" max="50" value="0" oninput="DefGradientY(this.value)" onchange="this.blur();"></p>
      </TD>
      <TD width="150px">
          <p class="EmoBox2">DESLOCAMENTO</p>
        <p class="contador2"   id="numGradientSprainX" title="% Deslocamento X: -50 a 50.">% DX [0]</p>
        <p><input type="range" id="SlGradientSprainX"  title="% de Deslocamento X." min="-50" max="50" value="0" oninput="DefGradientSprainX(this.value)" onchange="this.blur();"></p>  
        <p class="contador2"   id="numGradientSprainY" title="% Deslocamento Y: -50 a 50.">% DY [0]</p>
        <p><input type="range" id="SlGradientSprainY"  title="% de Deslocamento Y." min="-50" max="50" value="0" oninput="DefGradientSprainY(this.value)" onchange="this.blur();"></p>  
      </TD>

      <TD width="115px">
          <p class="EmoBox2">
              <a href="#" class="btaction" title="Move para cima." onclick="MoveGradControls('UP');">▲</a>
          </p>
          <div class="EmoBox">
              <a href="#" class="btgrande" onclick="ShowGradControls(false);">FECHA</a>
          </div>
          <p class="EmoBox2">
              <a href="#" class="btaction" title="Move para baixo." onclick="MoveGradControls('DOWN');">▼</a>
          </p>
      </TD>
      </TR>
      </TABLE>
    </div>





    <!-- 
    ==
    == DIV DA TABELA DE EMOJIS
    ==
     -->
    <div id="ContemEmoTab" class="EmoTab">
        <TABLE BORDER=1 cellspacing=0 cellpadding=0 bordercolor="#ff8c00" width="100%" height="100%" bgcolor="black">
        <TR>
         <TD width="116px" >
            <p class="EmoBox2">TABELA</p>
            <p class="EmoBox2">  DE  </p>
            <p class="EmoBox2">EMOJIS</p>
        </TD>
         <TD>
          <div id="EmoTab" class="content"></div>
        </TD>
        <TD width="115px">
            <p class="EmoBox2">
                <a href="#" class="btaction" title="Move para cima." onclick="MoveEmoTab('UP');">▲</a>
            </p>
            <div class="EmoBox">
                <a href="#" class="btgrande" onclick="ShowEmojiTab(false);">FECHA</a>
            </div>
            <p class="EmoBox2">
                <a href="#" class="btaction" title="Move para baixo." onclick="MoveEmoTab('DOWN');">▼</a>
            </p>
        </TD>
        </TR>
        </TABLE>
      </div>

  <script type="text/javascript" src="tm_testa_script.js"></script>  
  <script type="text/javascript" src="tm_desenha_script.js"></script> 
  <script type="text/javascript" src="tm_grava_script.js"></script>   
  <script type="text/javascript" src="tm_preview_script.js"></script> 
  <script type="text/javascript" src="tm_principal_script.js"></script>   
</font>
 </body>
</html>